<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafeBites - Personalized Restaurant Menu Filtering</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="app-header">
        <div class="container">
            <div class="logo">
                <h1>ğŸ›¡ï¸ SafeBites</h1>
                <p class="tagline">Dine with Confidence</p>
            </div>
            <nav class="user-nav">
                <button id="homeBtn" class="btn-icon" onclick="window.location.href='index.html'">ğŸ </button>
                <button id="profileBtn" class="btn-icon">ğŸ‘¤</button>
                <button id="locationBtn" class="btn-icon">ğŸ“</button>
            </nav>
        </div>
    </header>

    <!-- Welcome Screen -->
    <div id="welcomeScreen" class="screen active">
        <div class="welcome-container">
            <div class="welcome-hero">
                <h1>Welcome to SafeBites</h1>
                <p>Your personal dining companion for safer, smarter meal choices</p>
                <button id="getStartedBtn" class="btn-primary large">Get Started</button>
            </div>
            <div class="features">
                <div class="feature-card">
                    <span class="feature-icon">ğŸ”</span>
                    <h3>Smart Filtering</h3>
                    <p>Filter menus by allergies and preferences</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">ğŸ“</span>
                    <h3>Find Nearby</h3>
                    <p>Discover safe dining options near you</p>
                </div>
                <div class="feature-card">
                    <span class="feature-icon">ğŸ”’</span>
                    <h3>Secure & Private</h3>
                    <p>Your data is encrypted and protected</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Screen -->
    <div id="loginScreen" class="screen">
        <div class="auth-container">
            <div class="auth-card">
                <h2>Sign In to SafeBites</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                    </div>
                    <button type="submit" class="btn-primary full-width">Sign In</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Profile Setup Screen -->
    <div id="profileScreen" class="screen">
        <div class="profile-container">
            <div class="profile-card">
                <div class="profile-header">
                    <h2>Your Dietary Profile</h2>
                    <p class="user-email" id="userEmail"></p>
                </div>
                <p class="subtitle">Select your allergies and dietary restrictions</p>
                
                <div class="profile-section">
                    <h3>Common Allergens</h3>
                    <div class="restriction-grid">
                        <label class="restriction-checkbox">
                            <input type="checkbox" value="nuts" data-category="allergen">
                            <span>ğŸ¥œ Nuts</span>
                        </label>
                        <label class="restriction-checkbox">
                            <input type="checkbox" value="dairy" data-category="allergen">
                            <span>ğŸ¥› Dairy</span>
                        </label>
                        <label class="restriction-checkbox">
                            <input type="checkbox" value="gluten" data-category="allergen">
                            <span>ğŸŒ¾ Gluten</span>
                        </label>
                        <label class="restriction-checkbox">
                            <input type="checkbox" value="shellfish" data-category="allergen">
                            <span>ğŸ¦ Shellfish</span>
                        </label>
                        <label class="restriction-checkbox">
                            <input type="checkbox" value="eggs" data-category="allergen">
                            <span>ğŸ¥š Eggs</span>
                        </label>
                        <label class="restriction-checkbox">
                            <input type="checkbox" value="soy" data-category="allergen">
                            <span>ğŸ«˜ Soy</span>
                        </label>
                        <label class="restriction-checkbox">
                            <input type="checkbox" value="fish" data-category="allergen">
                            <span>ğŸŸ Fish</span>
                        </label>
                        <label class="restriction-checkbox">
                            <input type="checkbox" value="sesame" data-category="allergen">
                            <span>ğŸ«š Sesame</span>
                        </label>
                    </div>
                </div>

                <div class="profile-section">
                    <h3>Dietary Preferences</h3>
                    <div class="restriction-grid">
                        <label class="restriction-checkbox">
                            <input type="checkbox" value="vegetarian" data-category="preference">
                            <span>ğŸ¥— Vegetarian</span>
                        </label>
                        <label class="restriction-checkbox">
                            <input type="checkbox" value="vegan" data-category="preference">
                            <span>ğŸŒ± Vegan</span>
                        </label>
                        <label class="restriction-checkbox">
                            <input type="checkbox" value="halal" data-category="preference">
                            <span>â˜ªï¸ Halal</span>
                        </label>
                        <label class="restriction-checkbox">
                            <input type="checkbox" value="kosher" data-category="preference">
                            <span>âœ¡ï¸ Kosher</span>
                        </label>
                    </div>
                </div>

                <button id="saveProfileBtn" class="btn-primary full-width">Save & Continue</button>
            </div>
        </div>
    </div>

    <!-- Main App Screen -->
    <div id="mainScreen" class="screen">
        <div class="main-container">
            <!-- Location Banner -->
            <div class="location-banner">
                <div class="location-info">
                    <span class="location-icon">ğŸ“</span>
                    <div>
                        <p class="location-label">Your Location</p>
                        <p class="location-text" id="currentLocation">Detecting location...</p>
                    </div>
                </div>
                <button id="changeLocationBtn" class="btn-secondary small">Change</button>
            </div>

            <!-- Active Restrictions -->
            <div class="active-restrictions" id="activeRestrictions">
                <div class="restrictions-header">
                    <h3>Active Filters</h3>
                    <button id="editRestrictionsBtn" class="btn-text">Edit</button>
                </div>
                <div class="restrictions-list" id="restrictionsList"></div>
            </div>

            <!-- Restaurant List -->
            <div class="restaurants-section">
                <div class="section-header">
                    <h2>Nearby Restaurants</h2>
                    <p class="restaurant-count" id="restaurantCount"></p>
                </div>
                <div class="restaurant-grid" id="restaurantGrid"></div>
            </div>
        </div>
    </div>

    <!-- Restaurant Menu Screen -->
    <div id="menuScreen" class="screen">
        <div class="menu-container">
            <!-- Menu Header -->
            <div class="menu-header">
                <button id="backBtn" class="btn-back">â† Back</button>
                <div class="restaurant-info">
                    <h2 id="restaurantName"></h2>
                    <p id="restaurantDetails"></p>
                </div>
            </div>

            <!-- Safety Legend -->
            <div class="safety-legend">
                <div class="legend-item">
                    <span class="safety-badge safe">Safe</span>
                    <p>No allergens detected</p>
                </div>
                <div class="legend-item">
                    <span class="safety-badge caution">Caution</span>
                    <p>May contain traces</p>
                </div>
                <div class="legend-item">
                    <span class="safety-badge unsafe">Unsafe</span>
                    <p>Contains allergens</p>
                </div>
            </div>

            <!-- Menu Items -->
            <div class="menu-items" id="menuItems"></div>
        </div>
    </div>

    <!-- Menu Item Detail Modal -->
    <div id="itemModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" id="closeModal">&times;</button>
            <div id="itemDetails"></div>
        </div>
    </div>

    <!-- Location Permission Modal -->
    <div id="locationModal" class="modal">
        <div class="modal-content">
            <h3>Location Settings</h3>
            <p>SafeBites needs your location to find nearby restaurants with safe menu options.</p>
            
            <div class="form-group">
                <label for="searchRadius">Search Radius</label>
                <select id="searchRadius" class="radius-select">
                    <option value="0.2">0.2 miles</option>
                    <option value="0.5">0.5 miles</option>
                    <option value="1">1 mile</option>
                    <option value="1.5" selected>1.5 miles</option>
                    <option value="2">2 miles</option>
                    <option value="3">3 miles</option>
                </select>
            </div>
            
            <div class="privacy-notice">
                <p>ğŸ”’ Your location data is encrypted and never shared with third parties.</p>
            </div>
            <div class="modal-actions">
                <button id="allowLocationBtn" class="btn-primary">Apply Settings</button>
                <button id="denyLocationBtn" class="btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Customization Modal -->
    <div id="customizeModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" id="closeCustomizeModal">&times;</button>
            <h3>Customize Your Item</h3>
            <p class="customize-subtitle">Remove ingredients you don't want</p>
            <div id="customizeContent"></div>
            <div class="modal-actions">
                <button id="applyCustomizationBtn" class="btn-primary">Apply Customization</button>
                <button id="resetCustomizationBtn" class="btn-secondary">Reset</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
